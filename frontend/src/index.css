@tailwind base;
@tailwind components;
@tailwind utilities;

body { @apply text-gray-800; }

/* Custom utilities for polished UI across the app */
@layer utilities {
  /* Subtle shake for error states */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
  }
  .animate-shake { animation: shake 360ms cubic-bezier(.36,.07,.19,.97) both; }

  /* Soft focus outline used on inputs */
  .focus-soft:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.25); /* indigo-500 */
  }

  /* Hairline borders look crisp on high-DPI */
  .border-hairline { box-shadow: inset 0 0 0 1px rgba(0,0,0,0.06); }

  /* Soft shadow presets */
  .shadow-soft { box-shadow: 0 6px 16px -6px rgba(0,0,0,0.15), 0 2px 6px -2px rgba(0,0,0,0.12); }
  .shadow-card { box-shadow: 0 10px 20px -10px rgba(0,0,0,0.12), 0 4px 8px -4px rgba(0,0,0,0.10); }
  .shadow-elevated { box-shadow: 0 20px 40px -20px rgba(0,0,0,0.18), 0 8px 16px -8px rgba(0,0,0,0.14); }
}

:root { color-scheme: light; }

@layer base {
  body, form, input, textarea, select, button { color-scheme: light; }
  input, textarea, select, button {
    forced-color-adjust: none;
    background-color: #ffffff;
    color: #111827;
    border-color: #d1d5db;
  }
  input::placeholder, textarea::placeholder { color: #9ca3af; opacity: 1; }
  input:focus, textarea:focus, select:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(99,102,241,0.25);
    border-color: #6366f1;
    background-color: #ffffff;
  }
  select { background-color: #ffffff; }
}

input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-box-shadow: 0 0 0px 1000px #ffffff inset;
  box-shadow: 0 0 0px 1000px #ffffff inset;
  -webkit-text-fill-color: #111827;
  caret-color: #111827;
}

@media (prefers-color-scheme: dark) {
  input, textarea, select {
    background-color: #ffffff !important;
    color: #111827 !important;
    border-color: #d1d5db !important;
  }
  input::placeholder, textarea::placeholder { color: #9ca3af !important; }
  input:-webkit-autofill,
  textarea:-webkit-autofill,
  select:-webkit-autofill {
    -webkit-box-shadow: 0 0 0px 1000px #ffffff inset !important;
    box-shadow: 0 0 0px 1000px #ffffff inset !important;
    -webkit-text-fill-color: #111827 !important;
  }
}

/* Force light form controls (final override) */
html, body, #root, body * { color-scheme: light !important; }
:where(input), :where(textarea), :where(select) {
  background-color: #ffffff !important;
  color: #111827 !important;
  border-color: #d1d5db !important;
}
input::placeholder, textarea::placeholder { color: #9ca3af !important; opacity: 1 !important; }
input::-ms-input-placeholder, textarea::-ms-input-placeholder { color: #9ca3af !important; }
input::-webkit-input-placeholder, textarea::-webkit-input-placeholder { color: #9ca3af !important; }
/* Improve select consistency */
select { appearance: none; -webkit-appearance: none; -moz-appearance: none; background-color: #ffffff !important; }
